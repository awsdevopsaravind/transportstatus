{% extends "blog/base.html" %}
{% block content %}
{% load crispy_forms_tags %}


<head>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
<style>
.card{
    width: 850px;
    box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;
    margin-top: 20px;
    margin-left: -25px;
    
}

.animation-form{
    animation: fadeInRight;
    animation-duration: 2s; 
   
}
.fieldWrapper{
 
    /* width: 390px;
    float: left;
    padding: 20px;
    height: 100px; */
}
.btn-submit-init{
    width: 120px;
    height: 40px;
    float: left;
    color: white;
    background-color: #0069D9;
    border-radius: 5px;
    border: 1px solid whitesmoke;

}
.btn-close-init{
    width: 120px;
    background: gray;
    color: white;
    margin-left: 20px;
}
.header-text1{
    height: 40px;
    background-color: #009BDA;
    color: white;
    text-align: center;
    margin-top: -20px;
    width: 848px;
    margin-left: -20px;
}
.text1{
    color: white;
    line-height: 40px;
    font-size: 20px;
    font-weight: bold;
}

body{
    /* overflow: hidden; */
}


</style>



  </head>

<body class="m-5">
    <div class="container">
      <div class="row"> 
            <div class="col-md-12 animation-form">
                <div class="card card-body ">

                     <!-- <div class="header-text1">
                        <p class="text1">Add New Trip</p>
                    </div> -->
                    <!--------form------start-->
        
                    <form action="" style="height:650px;margin-left: 75px;margin-right: 75px;margin-top: -20px;" method="POST" enctype="multipart/form-data" novalidate>
                        {% csrf_token %}
                        <!--<p>{{form | crispy }} </p>-->
                        <br>
                        
                       
                        {{ form.non_field_errors }}
                        <div class="row">
                            <div class="col">

                        <div class="fieldWrapper">
                            {{ form.trip_date.errors }}
                            <label for="{{ form.trip_date.id_for_label }}">Trip date: * </label>
                            {{ form.trip_date }}
                        </div>
                    </div>
                
                <div class="col">
                        <div class="fieldWrapper">
                            {{ form.company_name.errors }}
                            <label for="{{ form.company_name.id_for_label }}">Company name: *</label>
                            {{ form.company_name }}
                        </div></div></div>
                        <div class="row">
                            <div class="col"> 
                        <div class="fieldWrapper">
                            {{ form.vehicle_owner_name.errors }}
                            <label for="{{ form.vehicle_owner_name.id_for_label }}">Vehicle owner name: *</label>
                            {{ form.vehicle_owner_name }}
                        </div></div>
                        
                            <div class="col">
                        <div class="fieldWrapper">
                            {{ form.vehicle_number.errors }}
                            <label for="{{ form.vehicle_number.id_for_label }}">Vehicle number: *</label>
                            {{ form.vehicle_number }}
                        </div></div></div>
                        <div class="row">
                            <div class="col">
                        <div class="fieldWrapper">
                            {{ form.driver_name.errors }}
                            <label for="{{ form.driver_name.id_for_label }}">Driver name: * </label>
                            {{ form.driver_name }}
                        </div></div>
                       
                            <div class="col">
                        <div class="fieldWrapper">
                            {{ form.quarry_owner_name.errors }}
                            <label for="{{ form.quarry_owner_name.id_for_label }}">Quarry owner name: *</label>
                            {{ form.quarry_owner_name }}
                        </div></div></div>
                        <div class="row">
                            <div class="col">
                        <div class="fieldWrapper">
                            {{ form.load_type.errors }}
                            <label for="{{ form.load_type.id_for_label }}">Load type: *</label>
                            {{ form.load_type }}
                        </div></div>
                        
                            <div class="col">
                        <div class="fieldWrapper">
                            {{ form.tf_number.errors }}
                            <label for="{{ form.tf_number.id_for_label }}">Tf number:*</label>
                            {{ form.tf_number }}
                        </div></div></div>
                        <div class="row">
                            <div class="col">
                        <div class="fieldWrapper">
                            {{ form.qty_m3.errors }}
                            <label for="{{ form.qty_m3.id_for_label }}">Qty m3: *</label>
                            {{ form.qty_m3 }}
                        </div></div>
                        <div class="col">
                            <div class="fieldWrapper">
                                {{ form.comments.errors }}
                                <label for="{{ form.comments.id_for_label }}">Comments: *</label>
                                {{ form.comments }}
                            </div></div></div>

                            <div class="row">
                            <div class="col">
                         <div class="fieldWrapper">
                            {{ form.royalty_image_front.errors }}
                            <label for="{{ form.royalty_image_front.id_for_label }}">Royalty image front: *</label>
                            {{ form.royalty_image_front }}
                        </div></div>
                       
                            <div class="col">
                        <div class="fieldWrapper">
                            {{ form.royalty_image_back.errors }}
                            <label for="{{ form.royalty_image_back.id_for_label }}">Royalty image back:</label>
                            {{ form.royalty_image_back }}
                        </div> </div></div>
                        
                          
                     
                        <div  class="btn-form-init" style="margin: 15px; position: relative;top:20px;">
                           
                            <input type="submit" name="status" value="Submit" class="btn-submit-init" style="margin-left: -15px;">

                            <a class="btn btn-outline-secondary btn-close-init" href="{% url 'engineer_page'  %}">Cancel</a>
                            
                    </div> 
                    </form>
                <!---------form-------end----------------->

                </div>
            </div>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
  <script>
    
    $("#id_vehicle_owner_name").change(function () {
        var url = $("#personForm").attr("data-vehicle-numbers-url"); // get the url of the `load_cities` view
        var countryId = $(this).val(); // get the selected country ID from the HTML input
        console.log(countryId)
        $.ajax({                       // initialize an AJAX request
            url: url,                    // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
            data: {
            'countryid': countryId       // add the country id to the GET parameters
            },
            success: function (data) {
                console.log(data)   // `data` is the return of the `load_cities` view function
            $("#id_vehicle_number").html(data);  // replace the contents of the city input with the data that came from the server
            }
      });

    });

  </script>  
 

{% endblock %}  
</body>
